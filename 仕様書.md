# 支出記録アプリ仕様書

## 概要
- ブラウザ上で支出を入力・可視化し、集計結果を保存するシングルページアプリ
- データは localStorage に保存し、再訪時も記録を保持する

## 目的
- 家計支出を簡単に記録・検索できる場を提供
- 日次・月次の支出傾向を可視化し、節約ポイントを把握
- クラウド連携不要なオフライン指向アプリとして軽量に利用可能にする

## 画面構成
1. ヘッダー: アプリ名、合計支出サマリー
2. 入力フォーム: 日付・カテゴリ・決済方法・金額・メモ入力、追加ボタン
3. カテゴリ管理: カテゴリ追加・削除機能（カテゴリ名入力、追加ボタン、既存カテゴリ一覧と削除ボタン）
4. フィルタ/集計パネル: 日付範囲・カテゴリ・決済方法フィルタ、月別集計表示
5. 支出リスト: レコード一覧（編集・削除ボタン付き）
6. フッター: データ保存方法の説明、リセットボタン

## 入出力仕様
- 入力
  - 日付: input[type="date"]
  - カテゴリ: select（初期値: 食費/交通/光熱費/その他。利用者が追加したカテゴリも選択可能）
  - カテゴリ追加: input[type="text"] + 追加ボタン（新規カテゴリ名を入力して追加）
  - 決済方法: select（現金/クレジットカード/デビットカード/電子マネー/QRコード決済/銀行振込/その他）
  - 金額: input[type="number"]（JPY）
  - メモ: input[type="text"]（任意）
- 出力
  - リアルタイム合計金額
  - フィルタ適用後の支出リスト（最新順、決済方法も表示）
  - 月次カテゴリ別集計（棒グラフ or テキスト）
  - 月次決済方法別集計（棒グラフ or テキスト、オプション）
  - 編集ダイアログ・削除確認ダイアログ
- 操作結果: フォーム送信で localStorage 更新、UIへ即時反映

## 機能一覧
- レコード追加（バリデーション、即時描画）
- レコード編集・削除
- カテゴリ追加（新規カテゴリ名を入力して追加、重複チェック）
- カテゴリ削除（既存カテゴリの削除、使用中のカテゴリは削除不可または警告表示）
- 日付/カテゴリ/決済方法フィルタリング
- 月次集計表示
- 全データリセット（確認付き）
- localStorage への永続化と再読込処理
- 入力フォーム初期化・最新状態反映

## 使用技術（HTML/CSS/JS）
- HTML5: セマンティックレイアウト、フォーム要素
- CSS3: Flex/Grid、レスポンシブ対応、テーマ切替（任意）
- JavaScript (ES6+): DOM操作、イベント、localStorage API、集計ロジック、Intl.DateTimeFormat など
- 軽量チャートライブラリは任意

## データ構造（localStorage 利用）
```
{
  "expenseTracker:records": [
    {
      "id": "uuid",
      "date": "2025-11-25",
      "category": "食費",
      "paymentMethod": "現金",
      "amount": 1200,
      "memo": "ランチ"
    }
  ],
  "expenseTracker:categories": [
    "食費",
    "交通",
    "光熱費",
    "その他"
  ],
  "expenseTracker:filters": {
    "from": "2025-11-01",
    "to": "2025-11-30",
    "category": "ALL",
    "paymentMethod": "ALL"
  }
}
```

